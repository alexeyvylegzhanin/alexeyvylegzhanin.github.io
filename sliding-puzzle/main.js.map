{"version":3,"sources":["webpack:///webpack/bootstrap 7a7c63dea1705308cb4f","webpack:///./src/js/observer.js","webpack:///./src/js/constants.js","webpack:///./src/js/helpers.js","webpack:///./src/js/index.js","webpack:///./src/js/controller.js","webpack:///./src/js/model.js","webpack:///./src/js/view.js"],"names":["Observer","_handlers","attachHandler","owner","triggerName","handler","push","callTrigger","args","callback","i","end","length","apply","concat","GAME_DEFAULTS","MATRIX_SIZE","ITEMS","TARGET_ITEM_POSITION","KEY","LEFT","UP","RIGHT","DOWN","_h","qs","selector","scope","document","querySelector","qsa","querySelectorAll","cdf","createDocumentFragment","ce","createElement","nodeString","_2dSwap","array","a","b","main","model","view","controller","init","window","addEventListener","Controller","_model","_view","self","renderItems","items","getPossibleMoves","renderStatistic","count","_registerHandlers","direction","makeMove","previousPosition","currentPosition","moveBlock","movesArray","shufflePuzzleDeck","Model","_matrixSize","_items","_possibleMoves","left","up","right","down","_targetItemPosition","_movesCount","value","matrixSize","targetItemPosition","_calculatePossibleMoves","param","oldPosition","directionIndex","directionRow","directionColumn","directionItem","undefined","newPosition","viewData","_swapItems","directions","forEach","directionString","_loadDefaults","View","elements","root","body","statistic","shuffleButton","currentRow","currentColumn","innerValue","itemNode","dataset","row","column","clickDirection","className","_handlerItemClick","keyCode","possibleMoves","_fragment","rows","columns","appendChild","_createItemNode","innerHTML","_highlightPossibleMoves","movesCount","movesCountNode","textContent","_getDirectionFromKeyCode","generateKeyCode","min","max","Math","floor","random","childNodes","item","classList","remove","move","itemToHighlight","add","elementToMove","event","generateMovesArray","_cacheTheDom","_bindEvents"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 7a7c63dea1705308cb4f","export const Observer = {\r\n  _handlers: [],\r\n\r\n  attachHandler: function (owner, triggerName, handler) {\r\n    this._handlers.push({\r\n      owner: owner,\r\n      triggerName: triggerName,\r\n      handler: handler\r\n    });\r\n  },\r\n\r\n  callTrigger: function (triggerName, args, callback) {\r\n    for (let i = 0, end = this._handlers.length; i < end; i += 1) {\r\n      if (triggerName === this._handlers[i].triggerName) {\r\n        this._handlers[i].handler.apply(this._handlers[i].owner, [].concat(args)); \r\n      } \r\n    } \r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/observer.js","export const GAME_DEFAULTS = {\r\n  MATRIX_SIZE: 4,\r\n  ITEMS: [\r\n    [1, 2, 3, 4],\r\n    [5, 6, 7, 8],\r\n    [9, 10, 11, 12],\r\n    [13, 14, 15, ' ']\r\n  ],\r\n  TARGET_ITEM_POSITION: [3, 3]\r\n};\r\n\r\nexport const KEY = {\r\n  LEFT: 37,\r\n  UP: 38,\r\n  RIGHT: 39,\r\n  DOWN: 40\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/constants.js","export const _h = {\r\n    qs: (selector, scope) => {\r\n      return (scope || document).querySelector(selector);\r\n    },\r\n    qsa: (selector, scope) => {\r\n      return (scope || document).querySelectorAll(selector); \r\n    },\r\n    cdf: () => {\r\n      return document.createDocumentFragment(); \r\n    }, \r\n    ce: nodeString => {\r\n      return document.createElement(nodeString); \r\n    } \r\n};\r\n\r\nexport const _2dSwap = (array, a, b) => {\r\n  array[a[0]][a[1]] = [\r\n    array[b[0]][b[1]], \r\n    array[b[0]][b[1]] = array[a[0]][a[1]]\r\n  ][0];\r\n\r\n  return b;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/helpers.js","import Controller from './controller';\r\nimport Model from './model';\r\nimport View from './view';\r\nimport {Observer} from './observer';\r\n\r\nfunction main() {\r\n  let model = new Model();\r\n  let view = new View();\r\n  let controller = new Controller(model, view);\r\n\r\n  controller.init();\r\n}\r\n\r\nwindow.addEventListener('load', main, false);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/index.js","import {Observer} from './observer.js';\r\n\r\nexport default class Controller {\r\n  constructor(model, view) {\r\n    this._model = model;\r\n    this._view = view;\r\n  }\r\n\r\n  init() {\r\n    var self = this;\r\n\r\n    self._model.init();\r\n    self._view.init();\r\n    self._view.renderItems( self._model.items(), self._model.getPossibleMoves() );\r\n    self._view.renderStatistic( self._model.count() );\r\n    self._registerHandlers();\r\n  }\r\n  \r\n  _registerHandlers() {\r\n    let self = this;\r\n\r\n    Observer.attachHandler(null, 'arrowKeyPressed', function (direction) {\r\n      self._model.makeMove(direction);\r\n    });\r\n\r\n    Observer.attachHandler(null, 'itemClicked', function (direction) {\r\n      self._model.makeMove(direction); \r\n    });\r\n\r\n    Observer.attachHandler(null, 'itemsSwapped', function (previousPosition, currentPosition) {\r\n      self._view.moveBlock(previousPosition, currentPosition, self._model.getPossibleMoves());\r\n      self._view.renderStatistic( self._model.count() );\r\n    });\r\n\r\n    Observer.attachHandler(null, 'shuffleButtonPressed', function (movesArray) {\r\n      self._model.shufflePuzzleDeck(movesArray);\r\n      self._view.renderItems( self._model.items(), self._model.getPossibleMoves() );\r\n      self._view.renderStatistic( self._model.count() );\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/controller.js","import {Observer} from './observer';\r\nimport {GAME_DEFAULTS} from './constants';\r\nimport {_2dSwap} from './helpers';\r\n\r\nexport default class Model {\r\n  constructor() {\r\n    this._matrixSize = null;\r\n    this._items = []; \r\n    this._possibleMoves = { left: [], up: [], right: [], down: [] };\r\n    this._targetItemPosition = [];\r\n    this._movesCount = 0;\r\n  }\r\n\r\n  matrixSize(value) {\r\n    if (value) {\r\n      this._matrixSize = value; \r\n      return;\r\n    }\r\n\r\n    return this._matrixSize;\r\n  }\r\n\r\n  items(value) {\r\n    if (value) {\r\n      this._items = value; \r\n      return;\r\n    }\r\n\r\n    return this._items;\r\n  }\r\n  \r\n  targetItemPosition(value) {\r\n    if (value) {\r\n      this._targetItemPosition = value;\r\n      return;\r\n    } \r\n\r\n    return this._targetItemPosition;\r\n  }\r\n\r\n  _loadDefaults() {\r\n    this.matrixSize(GAME_DEFAULTS.MATRIX_SIZE);\r\n    this.items(GAME_DEFAULTS.ITEMS);\r\n    this.targetItemPosition(GAME_DEFAULTS.TARGET_ITEM_POSITION);\r\n    this._calculatePossibleMoves();\r\n  }\r\n\r\n  _calculatePossibleMoves() {\r\n    let targetItemPosition = this.targetItemPosition();\r\n\r\n    this._possibleMoves.left = [targetItemPosition[0], targetItemPosition[1] - 1];\r\n    this._possibleMoves.up = [targetItemPosition[0] - 1, targetItemPosition[1]];\r\n    this._possibleMoves.right = [targetItemPosition[0], targetItemPosition[1] + 1];\r\n    this._possibleMoves.down = [targetItemPosition[0] + 1, targetItemPosition[1]];\r\n  }\r\n\r\n  getPossibleMoves() {\r\n    return this._possibleMoves;\r\n  }\r\n\r\n  count(param) {\r\n    if (param === 'refresh') {\r\n      this._movesCount = 0;\r\n    } else if (param === 'increment') {\r\n      this._movesCount++;\r\n    } else {\r\n      return this._movesCount;\r\n    }\r\n  }\r\n\r\n  _swapItems(direction) {\r\n    let oldPosition = this.targetItemPosition();\r\n    let directionIndex = this.getPossibleMoves()[direction],\r\n      directionRow = directionIndex[0],\r\n      directionColumn = directionIndex[1],\r\n      items = this.items(),\r\n      directionItem = items[directionRow] ? items[directionRow][directionColumn] : undefined;\r\n\r\n    if (directionItem) {\r\n      let newPosition = _2dSwap( items, oldPosition, [directionRow, directionColumn] );\r\n      this.targetItemPosition(newPosition);\r\n      this._calculatePossibleMoves();\r\n      \r\n      return [newPosition, oldPosition];\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n    \r\n  makeMove(direction) {\r\n    let viewData = this._swapItems(direction);\r\n\r\n    if (viewData) {\r\n      this.count('increment');\r\n      Observer.callTrigger('itemsSwapped', viewData);\r\n    }\r\n  }\r\n\r\n  shufflePuzzleDeck(directions) {\r\n    let self = this;\r\n\r\n    directions.forEach(directionString => {\r\n      self._swapItems(directionString);\r\n    });\r\n\r\n    self.count('refresh');\r\n  }\r\n\r\n  init() {\r\n    this._loadDefaults();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/model.js","import { Observer } from './observer';\r\nimport {KEY} from './constants';\r\nimport {_h} from './helpers';\r\n\r\nexport default class View {\r\n  constructor() {\r\n    this.elements = null; \r\n  }\r\n\r\n  _cacheTheDom() {\r\n    let elements = {\r\n      root: _h.qs('#root'),\r\n      body: _h.qs('body'),\r\n      statistic: _h.qs('#statistic', this.body),\r\n      shuffleButton: _h.qs('#makeShuffle', this.body)\r\n    }; \r\n\r\n    this.elements = elements;\r\n  }\r\n\r\n  _createItemNode(currentRow, currentColumn, innerValue) {\r\n    let self = this,\r\n      itemNode = _h.ce('div');\r\n\r\n    itemNode.dataset.row = currentRow;\r\n    itemNode.dataset.column = currentColumn;\r\n    itemNode.dataset.value = innerValue;\r\n    itemNode.dataset.clickDirection = '';\r\n    itemNode.className = 'item';\r\n    itemNode.addEventListener('click', event => {self._handlerItemClick(itemNode)}, false);\r\n    \r\n    return itemNode; \r\n  }\r\n\r\n  _handlerItemClick(itemNode) {\r\n    if (itemNode.dataset.clickDirection != '') {\r\n      let direction = itemNode.dataset.clickDirection; \r\n\r\n      Observer.callTrigger('itemClicked', direction, null);\r\n    }\r\n  }\r\n\r\n  _getDirectionFromKeyCode(keyCode) {\r\n    switch (keyCode) {\r\n      case KEY.LEFT:\r\n        return 'right';\r\n        break;\r\n\r\n      case KEY.UP:\r\n        return 'down';\r\n        break;\r\n\r\n      case KEY.RIGHT:\r\n        return 'left';\r\n        break;\r\n\r\n      case KEY.DOWN:\r\n        return 'up';\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  renderItems(items, possibleMoves) {\r\n    let self = this,\r\n      _fragment = _h.cdf(),\r\n      {root} = this.elements;\r\n    \r\n    for (let row = 0, rows = items.length; row < rows; row += 1) {\r\n      for (let column = 0, columns = items[row].length; column < columns; column += 1) {\r\n        if (items[row][column] != ' ') {\r\n          _fragment.appendChild( self._createItemNode(row, column, items[row][column]) );\r\n        }\r\n      }\r\n    }\r\n\r\n    root.innerHTML = '';\r\n    root.appendChild( _fragment );\r\n    self._highlightPossibleMoves(possibleMoves);\r\n  }\r\n\r\n  renderStatistic(movesCount) {\r\n    let movesCountNode = _h.qs('.statistic__moves-value');\r\n\r\n    movesCountNode.textContent = movesCount;\r\n  };\r\n\r\n  generateMovesArray(count) {\r\n    let self = this,\r\n      movesArray = [];\r\n\r\n    for (let i = 0; i < count; i += 1) {\r\n      movesArray.push( self._getDirectionFromKeyCode(generateKeyCode(KEY.LEFT, KEY.DOWN + 1)) );\r\n    }\r\n    \r\n    function generateKeyCode(min, max) {\r\n      return Math.floor(Math.random() * (max - min)) + min;\r\n    }\r\n\r\n    return movesArray;\r\n  }\r\n\r\n  _highlightPossibleMoves(possibleMoves) {\r\n    let {root} = this.elements;\r\n\r\n    root.childNodes.forEach(item => {\r\n      item.classList.remove('highlighted'); \r\n      item.dataset.clickDirection = '';\r\n    });\r\n\r\n    for (let move in possibleMoves) {\r\n      let row = possibleMoves[move][0],\r\n        column = possibleMoves[move][1],\r\n        itemToHighlight = null;\r\n\r\n      itemToHighlight = _h.qs(`.item[data-row=\"${row}\"][data-column=\"${column}\"]`, root);\r\n      if (itemToHighlight) {\r\n        itemToHighlight.classList.add('highlighted');\r\n        itemToHighlight.dataset.clickDirection = move;\r\n      }\r\n    } \r\n  }\r\n\r\n  moveBlock(previousPosition, currentPosition, possibleMoves) {\r\n    let {root} = this.elements;\r\n    let elementToMove = _h.qs(`.item[data-row=\"${previousPosition[0]}\"][data-column=\"${previousPosition[1]}\"]`, root);\r\n    \r\n    if (elementToMove != null) {\r\n      elementToMove.dataset.row = currentPosition[0];\r\n      elementToMove.dataset.column = currentPosition[1];\r\n    }\r\n\r\n    this._highlightPossibleMoves(possibleMoves);\r\n  }\r\n\r\n  _bindEvents() {\r\n    let self = this,\r\n      {shuffleButton} = this.elements;\r\n\r\n    window.addEventListener('keydown', event => {\r\n      let keyCode = event.keyCode,\r\n        direction = self._getDirectionFromKeyCode( event.keyCode ); \r\n\r\n      if (keyCode >= 37 && keyCode <= 40) {\r\n        Observer.callTrigger('arrowKeyPressed', direction, null); \r\n      }\r\n    }, false);\r\n\r\n    shuffleButton.addEventListener('click', event => {\r\n      let movesArray = self.generateMovesArray(400);\r\n\r\n      Observer.callTrigger('shuffleButtonPressed', [movesArray], null);\r\n    }, false);\r\n  }\r\n  \r\n  init() {\r\n    this._cacheTheDom();\r\n    this._bindEvents();\r\n  };\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view.js"],"sourceRoot":""}